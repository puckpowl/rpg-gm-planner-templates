<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="generatePages.js"></script>
    <script>
      $(document).ready(function () { 

        // This is ugly as hell but doing a repeated background of an SVG makes it very pixelated
        // on printing/exporting to PDF. So this is a workaround to build a single large SVG instead.
        var svg = document.getElementsByTagName('svg')[0],
          u = document.createElementNS("http://www.w3.org/2000/svg", 'use'),
          gWidth = $('svg').children('g').attr('width'),
          gHeight = $('svg').children('g').attr('height'),
          divWidth = $('.mapgrid').width(),
          divHeight = $('.mapgrid').height();
          
        u.setAttribute("href", "#hex");
        for(var x=0;x<divWidth/gWidth;x++) {
          for(var y=0;y<divHeight/gHeight;y++) {
            var newElement = u.cloneNode();
            newElement.setAttribute("x", x*gWidth);
            newElement.setAttribute("y", y*gHeight);
            svg.appendChild(newElement);
          }
        }

        generatePages(1, 4); 
      });
    </script>
  </head>
  <body>
    <div class="page">
      Map
      <div class="frame">
        <table>
          <tr>
            <td class="input" style="width: 65%;">Area</td>
            <td class="input" style="width: 25%;">Scale - 1 hex =</td>
          </tr>
        </table>
        <table>
          <tr>
            <td class="mapgrid">
              <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
                <g id="hex" width="30" height="17.4">
                  <polygon points="20.2,8.7 15.2,0 5.2,0 0.2,8.7 5.2,17.4 15.2,17.4 " id="svg_1" fill="#000000" fill-opacity="0"/>
                  <line id="svg_3" y2="8.7" x2="30.2" y1="8.7" x1="20.0" fill-opacity="0" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" fill="none"/>
                </g>
              </svg>
            </td>
          </tr>
        </table>
        <table>
          <tr>
            <td class="input"></td>
          </tr>
          <tr>
            <td class="input"></td>
          </tr>
          <tr>
            <td class="input"></td>
          </tr>
          <tr>
            <td class="input"></td>
          </tr>
          <tr>
            <td class="input"></td>
          </tr>
          <tr>
            <td class="input"></td>
          </tr>
          <tr>
            <td class="input"></td>
          </tr>
          <tr>
            <td class="input"></td>
          </tr>
        </table>
      </div>
    </div>
  </body>
</html>